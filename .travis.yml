language: cpp
compiler: gcc

dist: trusty
sudo: required

env:
 - QT4_BUILD=OFF

before_install:
 - sudo add-apt-repository --yes ppa:ubuntu-toolchain-r/test
 - sudo add-apt-repository --yes ppa:ubuntu-sdk-team/ppa
 - sudo apt-get update -qq

script:
 - mkdir build
 - cd build
 - if [ "$QT4_BUILD" == "OFF" ]; then cmake -DBUILD_TESTS=TRUE -DQT4_BUILD=FALSE ..; else cmake -DBUILD_TESTS=TRUE -DQT4_BUILD=TRUE ..; fi
 - make
 - export CTEST_OUTPUT_ON_FAILURE=1
 - make test
